<!DOCTYPE html>
<html>

<head>
  <title>index</title>
  <link rel='stylesheet' href='./stylesheets/style.css' />
</head>

<body class="bg-[#EDF4F6]">
  <div class="mb-[50px]">
    <h2 class="text-xl font-bold">Welcome to </h2>
    <h1 class="text-blue-500 text-3xl font-bold">Open Class Server</h1>
    <p class="text-gray-600 max-w-[60%]">
      Open Class is a simple web application that allows you to create and share your own classes.
    </p>
  </div>

  <div class="flex flex-col justify-center">
    <div class="w-full md:w-5/12 mx-auto">
      <% if(firstTime){ %>
        <form action="/register" method="post" id="register-form" class="p-4 my-4 rounded shadow-md bg-white">

          <div class="flex flex-col">
            <label for="username" class="text-gray-600">Username</label>
            <input type="text" name="username" id="username"
              class="shadow-md border-b-2 border-blue-500 h-full p-2 rounded py-2 focus-within:outline-none overflow-y-clip focus-within:text-black"
              placeholder="Username" />
            <span class="text-red-600 min-h-[1.5rem]">
              <% if(messages.length !==0 && messages[0].key==="username" ){%>
                <%=messages[0].error%>
                  <%}%>
            </span>
          </div>

          <div class="flex flex-col">
            <label for="password" class="text-gray-600">Password</label>
            <input type="password" name="password" id="password"
              class="shadow-md border-b-2 border-blue-500 h-full p-2 rounded py-2 focus-within:outline-none overflow-y-clip focus-within:text-black"
              placeholder="Password" />
            <span class="text-red-600 min-h-[1.5rem]">
              <% if(messages.length !==0 && messages[0].key==="password" ){%>
                <%=messages[0].error%>
                  <%} %>
            </span>
          </div>

          <div class="flex flex-col">
            <label for="passwordConfirm" class="text-gray-600">Confirm Password</label>
            <input type="password" name="passwordConfirm" id="passwordConfirm"
              class="shadow-md border-b-2 border-blue-500 h-full p-2 rounded py-2 focus-within:outline-none overflow-y-clip focus-within:text-black"
              placeholder="Confirm Password" />
            <span class="text-red-600 min-h-[2rem]">
              <% if(messages.length !==0 && messages[0].key==='passwordConfirm' ){%>
                <%=messages[0].error%>
                  <%} %>
            </span>
          </div>

          <input type="submit" value="Create your credentials"
            class="bg-blue-500 rounded-sm h-10 p-2 px-10 w-full text-white font-semibold focus:outline-none focus:shadow-outline cursor-pointer hover:bg-blue-600" />
        </form>
        <% } else { %>
          <form action="/login" method="POST" id="login-form">
            <div class="flex flex-col">
              <label for="username" class="text-gray-700 text-sm font-bold">Username</label>
              <input type="text" name="username" id="username" class="w-full p-2 mb-4 border border-gray-300 rounded h-12" />
              <label for="password" class="text-gray-700 text-sm font-bold">Password</label>
              <input type="password" name="password" id="password" class="w-full p-2 mb-5 border border-gray-300 rounded h-12" />
              <button type="submit" class="w-full p-2 bg-blue-500 text-white cursor-pointer hover:bg-blue-600 h-12">Login</button>
            </div>
          </form>
      <% } %>
    </div>
  </div>

</body>
<script src="/javascripts/forms.js"></script>
</html>